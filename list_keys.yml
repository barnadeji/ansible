- name: List .pub files in a directory
  hosts: localhost
  tasks:
    - name: Find all .pub files in the specified directory
      find:
        paths: "/home"   # Specify the directory to search in
        patterns: "*.pub"             # Only look for .pub files
        recurse: yes                  # Set to yes if you want to search subdirectories
      register: pub_files             # Register the result to use later

    - name: Set fact for a clean numbered list
      set_fact:
        numbered_keys: |
          {%- for item in pub_files.files %}
          {{ loop.index }}. {{ item.path | basename }}
          {%- endfor %}

    - name: Display the numbered list of .pub files
      debug:
        msg: "{{ numbered_keys }}"
      no_log: true  # Suppresses the output of unnecessary debug info
